<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Inja: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-doxygen.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Inja
   &#160;<span id="projectnumber">3.3.0</span>
   </div>
   <div id="projectbrief">A Template Engine for Modern C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Inja Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://github.com/pantor/inja/releases"><object type="image/svg+xml" data="https://raw.githubusercontent.com/pantor/inja/master/doc/logo.svg?sanitize=true" style="pointer-events: none;" width="500"></object></a></p>
<p align="center"></p>
<p><a href="https://github.com/pantor/inja/actions"><object type="image/svg+xml" data="https://github.com/pantor/inja/workflows/CI/badge.svg" style="pointer-events: none;">CI Status</object> </a></p>
<p><a href="https://github.com/pantor/inja/actions"><object type="image/svg+xml" data="https://github.com/pantor/inja/workflows/Documentation/badge.svg" style="pointer-events: none;">Documentation Status</object> </a></p>
<p><a href="https://www.codacy.com/manual/pantor/inja?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=pantor/inja&amp;utm_campaign=Badge_Grade"><img src="https://app.codacy.com/project/badge/Grade/211718f7a36541819d1244c0e2ee6f08" alt="" class="inline"/> </a></p>
<p><a href="https://github.com/pantor/inja/releases"><object type="image/svg+xml" data="https://img.shields.io/github/release/pantor/inja.svg" style="pointer-events: none;">Github Releases</object> </a></p>
<p><a href="http://github.com/pantor/inja/issues"><object type="image/svg+xml" data="https://img.shields.io/github/issues/pantor/inja.svg" style="pointer-events: none;">Github Issues</object> </a></p>
<p><a href="https://raw.githubusercontent.com/pantor/inja/master/LICENSE"><object type="image/svg+xml" data="https://img.shields.io/badge/license-MIT-blue.svg" style="pointer-events: none;">GitHub License</object> </a> </p>
<p>Inja is a template engine for modern C++, loosely inspired by <a href="http://jinja.pocoo.org">jinja</a> for python. It has an easy and yet powerful template syntax with all variables, loops, conditions, includes, callbacks, and comments you need, nested and combined as you like. Inja uses the wonderful <a href="https://github.com/nlohmann/json">json</a> library by nlohmann for data input. Most importantly, inja needs only two header files, which is (nearly) as trivial as integration in C++ can get. Of course, everything is tested on all relevant compilers. Here is what it looks like:</p>
<div class="fragment"><div class="line">json data;</div>
<div class="line">data[<span class="stringliteral">&quot;name&quot;</span>] = <span class="stringliteral">&quot;world&quot;</span>;</div>
<div class="line"> </div>
<div class="line">inja::render(<span class="stringliteral">&quot;Hello {{ name }}!&quot;</span>, data); <span class="comment">// Returns &quot;Hello world!&quot;</span></div>
</div><!-- fragment --><h2>Integration</h2>
<p>Inja is a headers only library, which can be downloaded from the <a href="https://github.com/pantor/inja/releases">releases</a> or directly from the <code>include/</code> or <code>single_include/</code> folder. Inja uses <code>nlohmann/json.hpp</code> (&gt;= v3.8.0) as its single dependency, so make sure it can be included from <code><a class="el" href="inja_8hpp_source.html">inja.hpp</a></code>. json can be downloaded <a href="https://github.com/nlohmann/json/releases">here</a>. Then integration is as easy as:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;inja.hpp&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Just for convenience</span></div>
<div class="line"><span class="keyword">using namespace </span>inja;</div>
</div><!-- fragment --><p>If you are using the <a href="http://mesonbuild.com">Meson Build System</a>, then you can wrap this repository as a subproject.</p>
<p>If you are using <a href="https://conan.io">Conan</a> to manage your dependencies, have a look at <a href="https://github.com/DEGoodmanWilson/conan-inja">this repository</a>. Please file issues <a href="https://github.com/DEGoodmanWilson/conan-inja/issues">here</a> if you experience problems with the packages.</p>
<p>You can also integrate inja in your project using <a href="https://github.com/cpp-pm/hunter">Hunter</a>, a package manager for C++.</p>
<p>If you are using <a href="https://github.com/Microsoft/vcpkg">vcpkg</a> on your project for external dependencies, then you can use the <a href="https://github.com/Microsoft/vcpkg/tree/master/ports/inja">inja package</a>. Please see the vcpkg project for any issues regarding the packaging.</p>
<p>If you are using <a href="https://cget.readthedocs.io/en/latest/">cget</a>, you can install the latest development version with <code>cget install pantor/inja</code>. A specific version can be installed with <code>cget install pantor/inja@v2.1.0</code>.</p>
<p>On macOS, you can install inja via <a href="https://formulae.brew.sh/formula/inja#default">Homebrew</a> and <code>brew install inja</code>.</p>
<p>If you are using <a href="https://docs.conda.io/en/latest/">conda</a>, you can install the latest version from <a href="https://anaconda.org/conda-forge/inja">conda-forge</a> with <code>conda install -c conda-forge inja</code>.</p>
<h2>Tutorial</h2>
<p>This tutorial will give you an idea how to use inja. It will explain the most important concepts and give practical advices using examples and executable code. Beside this tutorial, you may check out the <a href="https://pantor.github.io/inja">documentation</a>.</p>
<h3>Template Rendering</h3>
<p>The basic template rendering takes a template as a <code>std::string</code> and a <code>json</code> object for all data. It returns the rendered template as an <code>std::string</code>.</p>
<div class="fragment"><div class="line">json data;</div>
<div class="line">data[<span class="stringliteral">&quot;name&quot;</span>] = <span class="stringliteral">&quot;world&quot;</span>;</div>
<div class="line"> </div>
<div class="line">render(<span class="stringliteral">&quot;Hello {{ name }}!&quot;</span>, data); <span class="comment">// Returns std::string &quot;Hello world!&quot;</span></div>
<div class="line">render_to(std::cout, <span class="stringliteral">&quot;Hello {{ name }}!&quot;</span>, data); <span class="comment">// Writes &quot;Hello world!&quot; to stream</span></div>
</div><!-- fragment --><p>For more advanced usage, an environment is recommended. </p><div class="fragment"><div class="line">Environment env;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Render a string with json data</span></div>
<div class="line">std::string result = env.render(<span class="stringliteral">&quot;Hello {{ name }}!&quot;</span>, data); <span class="comment">// &quot;Hello world!&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Or directly read a template file</span></div>
<div class="line">Template temp = env.parse_template(<span class="stringliteral">&quot;./templates/greeting.txt&quot;</span>);</div>
<div class="line">std::string result = env.render(temp, data); <span class="comment">// &quot;Hello world!&quot;</span></div>
<div class="line"> </div>
<div class="line">data[<span class="stringliteral">&quot;name&quot;</span>] = <span class="stringliteral">&quot;Inja&quot;</span>;</div>
<div class="line">std::string result = env.render(temp, data); <span class="comment">// &quot;Hello Inja!&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Or read the template file (and/or the json file) directly from the environment</span></div>
<div class="line">result = env.render_file(<span class="stringliteral">&quot;./templates/greeting.txt&quot;</span>, data);</div>
<div class="line">result = env.render_file_with_json_file(<span class="stringliteral">&quot;./templates/greeting.txt&quot;</span>, <span class="stringliteral">&quot;./data.json&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Or write a rendered template file</span></div>
<div class="line">env.write(temp, data, <span class="stringliteral">&quot;./result.txt&quot;</span>);</div>
<div class="line">env.write_with_json_file(<span class="stringliteral">&quot;./templates/greeting.txt&quot;</span>, <span class="stringliteral">&quot;./data.json&quot;</span>, <span class="stringliteral">&quot;./result.txt&quot;</span>);</div>
</div><!-- fragment --><p>The environment class can be configured to your needs. </p><div class="fragment"><div class="line"><span class="comment">// With default settings</span></div>
<div class="line">Environment env_default;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// With global path to template files and where files will be saved</span></div>
<div class="line">Environment env_1 {<span class="stringliteral">&quot;../path/templates/&quot;</span>};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// With separate input and output path</span></div>
<div class="line">Environment env_2 {<span class="stringliteral">&quot;../path/templates/&quot;</span>, <span class="stringliteral">&quot;../path/results/&quot;</span>};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// With other opening and closing strings (here the defaults)</span></div>
<div class="line">env.set_expression(<span class="stringliteral">&quot;{{&quot;</span>, <span class="stringliteral">&quot;}}&quot;</span>); <span class="comment">// Expressions</span></div>
<div class="line">env.set_comment(<span class="stringliteral">&quot;{#&quot;</span>, <span class="stringliteral">&quot;#}&quot;</span>); <span class="comment">// Comments</span></div>
<div class="line">env.set_statement(<span class="stringliteral">&quot;{%&quot;</span>, <span class="stringliteral">&quot;%}&quot;</span>); <span class="comment">// Statements {% %} for many things, see below</span></div>
<div class="line">env.set_line_statement(<span class="stringliteral">&quot;##&quot;</span>); <span class="comment">// Line statements ## (just an opener)</span></div>
</div><!-- fragment --><h3>Variables</h3>
<p>Variables are rendered within the <code>{{ ... }}</code> expressions. </p><div class="fragment"><div class="line">json data;</div>
<div class="line">data[<span class="stringliteral">&quot;neighbour&quot;</span>] = <span class="stringliteral">&quot;Peter&quot;</span>;</div>
<div class="line">data[<span class="stringliteral">&quot;guests&quot;</span>] = {<span class="stringliteral">&quot;Jeff&quot;</span>, <span class="stringliteral">&quot;Tom&quot;</span>, <span class="stringliteral">&quot;Patrick&quot;</span>};</div>
<div class="line">data[<span class="stringliteral">&quot;time&quot;</span>][<span class="stringliteral">&quot;start&quot;</span>] = 16;</div>
<div class="line">data[<span class="stringliteral">&quot;time&quot;</span>][<span class="stringliteral">&quot;end&quot;</span>] = 22;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Indexing in array</span></div>
<div class="line">render(<span class="stringliteral">&quot;{{ guests.1 }}&quot;</span>, data); <span class="comment">// &quot;Tom&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Objects</span></div>
<div class="line">render(<span class="stringliteral">&quot;{{ time.start }} to {{ time.end + 1 }}pm&quot;</span>, data); <span class="comment">// &quot;16 to 23pm&quot;</span></div>
</div><!-- fragment --><p>If no variable is found, valid JSON is printed directly, otherwise an <code><a class="el" href="structinja_1_1_render_error.html">inja::RenderError</a></code> is thrown.</p>
<h3>Statements</h3>
<p>Statements can be written either with the <code>{% ... %}</code> syntax or the <code>##</code> syntax for entire lines. Note that <code>##</code> needs to start the line without indentation. The most important statements are loops, conditions and file includes. All statements can be nested.</p>
<h4>Loops</h4>
<div class="fragment"><div class="line"><span class="comment">// Combining loops and line statements</span></div>
<div class="line">render(R<span class="stringliteral">&quot;(Guest List:</span></div>
<div class="line"><span class="stringliteral">## for guest in guests</span></div>
<div class="line"><span class="stringliteral">    {{ loop.index1 }}: {{ guest }}</span></div>
<div class="line"><span class="stringliteral">## endfor )&quot;, data)</span></div>
<div class="line"><span class="stringliteral"></span> </div>
<div class="line"><span class="stringliteral"></span><span class="comment">/* Guest List:</span></div>
<div class="line"><span class="comment">    1: Jeff</span></div>
<div class="line"><span class="comment">    2: Tom</span></div>
<div class="line"><span class="comment">    3: Patrick */</span></div>
</div><!-- fragment --><p>In a loop, the special variables <code>loop/index (number)</code>, <code>loop/index1 (number)</code>, <code>loop/is_first (boolean)</code> and <code>loop/is_last (boolean)</code> are defined. In nested loops, the parent loop variables are available e.g. via <code>loop/parent/index</code>. You can also iterate over objects like <code>{% for key, value in time %}</code>.</p>
<h4>Conditions</h4>
<p>Conditions support the typical if, else if and else statements. Following conditions are for example possible: </p><div class="fragment"><div class="line"><span class="comment">// Standard comparisons with a variable</span></div>
<div class="line">render(<span class="stringliteral">&quot;{% if time.hour &gt;= 20 %}Serve{% else if time.hour &gt;= 18 %}Make{% endif %} dinner.&quot;</span>, data); <span class="comment">// Serve dinner.</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Variable in list</span></div>
<div class="line">render(<span class="stringliteral">&quot;{% if neighbour in guests %}Turn up the music!{% endif %}&quot;</span>, data); <span class="comment">// Turn up the music!</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Logical operations</span></div>
<div class="line">render(<span class="stringliteral">&quot;{% if guest_count &lt; (3+2) and all_tired %}Sleepy...{% else %}Keep going...{% endif %}&quot;</span>, data); <span class="comment">// Sleepy...</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Negations</span></div>
<div class="line">render(<span class="stringliteral">&quot;{% if not guest_count %}The End{% endif %}&quot;</span>, data); <span class="comment">// The End</span></div>
</div><!-- fragment --><h4>Includes</h4>
<p>You can either include other in-memory templates or from the file system. </p><div class="fragment"><div class="line"><span class="comment">// To include in-memory templates, add them to the environment first</span></div>
<div class="line"><a class="code" href="structinja_1_1_template.html">inja::Template</a> content_template = env.parse(<span class="stringliteral">&quot;Hello {{ neighbour }}!&quot;</span>);</div>
<div class="line">env.include_template(<span class="stringliteral">&quot;content&quot;</span>, content_template);</div>
<div class="line">env.render(<span class="stringliteral">&quot;Content: {% include \&quot;content\&quot; %}&quot;</span>, data); <span class="comment">// &quot;Content: Hello Peter!&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Other template files are included relative from the current file location</span></div>
<div class="line">render(<span class="stringliteral">&quot;{% include \&quot;footer.html\&quot; %}&quot;</span>, data);</div>
</div><!-- fragment --><p>If a corresponding template could not be found in the file system, the <em>include callback</em> is called: </p><div class="fragment"><div class="line"><span class="comment">// The callback takes the current path and the wanted include name and returns a template</span></div>
<div class="line">env.set_include_callback([&amp;env](<span class="keyword">const</span> std::string&amp; path, <span class="keyword">const</span> std::string&amp; template_name) {</div>
<div class="line">  <span class="keywordflow">return</span> env.parse(<span class="stringliteral">&quot;Hello {{ neighbour }} from &quot;</span> + template_name);</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line"><span class="comment">// You can disable to search for templates in the file system via</span></div>
<div class="line">env.set_search_included_templates_in_files(<span class="keyword">false</span>);</div>
</div><!-- fragment --><p>Inja will throw an <code><a class="el" href="structinja_1_1_render_error.html">inja::RenderError</a></code> if an included file is not found and no callback is specified. To disable this error, you can call <code>env.set_throw_at_missing_includes(false)</code>.</p>
<h4>Assignments</h4>
<p>Variables can also be defined within the template using the set statment. </p><div class="fragment"><div class="line">render(<span class="stringliteral">&quot;{% set new_hour=23 %}{{ new_hour }}pm&quot;</span>, data); <span class="comment">// &quot;23pm&quot;</span></div>
<div class="line">render(<span class="stringliteral">&quot;{% set time.start=18 %}{{ time.start }}pm&quot;</span>, data); <span class="comment">// using json pointers</span></div>
</div><!-- fragment --><p>Assignments only set the value within the rendering context; they do not modify the json object passed into the <code>render</code> call.</p>
<h3>Functions</h3>
<p>A few functions are implemented within the inja template syntax. They can be called with </p><div class="fragment"><div class="line"><span class="comment">// Upper and lower function, for string cases</span></div>
<div class="line">render(<span class="stringliteral">&quot;Hello {{ upper(neighbour) }}!&quot;</span>, data); <span class="comment">// &quot;Hello PETER!&quot;</span></div>
<div class="line">render(<span class="stringliteral">&quot;Hello {{ lower(neighbour) }}!&quot;</span>, data); <span class="comment">// &quot;Hello peter!&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Range function, useful for loops</span></div>
<div class="line">render(<span class="stringliteral">&quot;{% for i in range(4) %}{{ loop.index1 }}{% endfor %}&quot;</span>, data); <span class="comment">// &quot;1234&quot;</span></div>
<div class="line">render(<span class="stringliteral">&quot;{% for i in range(3) %}{{ at(guests, i) }} {% endfor %}&quot;</span>, data); <span class="comment">// &quot;Jeff Tom Patrick &quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Length function (please don&#39;t combine with range, use list directly...)</span></div>
<div class="line">render(<span class="stringliteral">&quot;I count {{ length(guests) }} guests.&quot;</span>, data); <span class="comment">// &quot;I count 3 guests.&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Get first and last element in a list</span></div>
<div class="line">render(<span class="stringliteral">&quot;{{ first(guests) }} was first.&quot;</span>, data); <span class="comment">// &quot;Jeff was first.&quot;</span></div>
<div class="line">render(<span class="stringliteral">&quot;{{ last(guests) }} was last.&quot;</span>, data); <span class="comment">// &quot;Patir was last.&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Sort a list</span></div>
<div class="line">render(<span class="stringliteral">&quot;{{ sort([3,2,1]) }}&quot;</span>, data); <span class="comment">// &quot;[1,2,3]&quot;</span></div>
<div class="line">render(<span class="stringliteral">&quot;{{ sort(guests) }}&quot;</span>, data); <span class="comment">// &quot;[\&quot;Jeff\&quot;, \&quot;Patrick\&quot;, \&quot;Tom\&quot;]&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Join a list with a separator</span></div>
<div class="line">render(<span class="stringliteral">&quot;{{ join([1,2,3], \&quot; + \&quot;) }}&quot;</span>, data); <span class="comment">// &quot;1 + 2 + 3&quot;</span></div>
<div class="line">render(<span class="stringliteral">&quot;{{ join(guests, \&quot;, \&quot;) }}&quot;</span>, data); <span class="comment">// &quot;Jeff, Patrick, Tom&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Round numbers to a given precision</span></div>
<div class="line">render(<span class="stringliteral">&quot;{{ round(3.1415, 0) }}&quot;</span>, data); <span class="comment">// 3</span></div>
<div class="line">render(<span class="stringliteral">&quot;{{ round(3.1415, 3) }}&quot;</span>, data); <span class="comment">// 3.142</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Check if a value is odd, even or divisible by a number</span></div>
<div class="line">render(<span class="stringliteral">&quot;{{ odd(42) }}&quot;</span>, data); <span class="comment">// false</span></div>
<div class="line">render(<span class="stringliteral">&quot;{{ even(42) }}&quot;</span>, data); <span class="comment">// true</span></div>
<div class="line">render(<span class="stringliteral">&quot;{{ divisibleBy(42, 7) }}&quot;</span>, data); <span class="comment">// true</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Maximum and minimum values from a list</span></div>
<div class="line">render(<span class="stringliteral">&quot;{{ max([1, 2, 3]) }}&quot;</span>, data); <span class="comment">// 3</span></div>
<div class="line">render(<span class="stringliteral">&quot;{{ min([-2.4, -1.2, 4.5]) }}&quot;</span>, data); <span class="comment">// -2.4</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Convert strings to numbers</span></div>
<div class="line">render(<span class="stringliteral">&quot;{{ int(\&quot;2\&quot;) == 2 }}&quot;</span>, data); <span class="comment">// true</span></div>
<div class="line">render(<span class="stringliteral">&quot;{{ float(\&quot;1.8\&quot;) &gt; 2 }}&quot;</span>, data); <span class="comment">// false</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Set default values if variables are not defined</span></div>
<div class="line">render(<span class="stringliteral">&quot;Hello {{ default(neighbour, \&quot;my friend\&quot;) }}!&quot;</span>, data); <span class="comment">// &quot;Hello Peter!&quot;</span></div>
<div class="line">render(<span class="stringliteral">&quot;Hello {{ default(colleague, \&quot;my friend\&quot;) }}!&quot;</span>, data); <span class="comment">// &quot;Hello my friend!&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Access an objects value dynamically</span></div>
<div class="line">render(<span class="stringliteral">&quot;{{ at(time, \&quot;start\&quot;) }} to {{ time.end }}&quot;</span>, data); <span class="comment">// &quot;16 to 22&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Check if a key exists in an object</span></div>
<div class="line">render(<span class="stringliteral">&quot;{{ exists(\&quot;guests\&quot;) }}&quot;</span>, data); <span class="comment">// &quot;true&quot;</span></div>
<div class="line">render(<span class="stringliteral">&quot;{{ exists(\&quot;city\&quot;) }}&quot;</span>, data); <span class="comment">// &quot;false&quot;</span></div>
<div class="line">render(<span class="stringliteral">&quot;{{ existsIn(time, \&quot;start\&quot;) }}&quot;</span>, data); <span class="comment">// &quot;true&quot;</span></div>
<div class="line">render(<span class="stringliteral">&quot;{{ existsIn(time, neighbour) }}&quot;</span>, data); <span class="comment">// &quot;false&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Check if a key is a specific type</span></div>
<div class="line">render(<span class="stringliteral">&quot;{{ isString(neighbour) }}&quot;</span>, data); <span class="comment">// &quot;true&quot;</span></div>
<div class="line">render(<span class="stringliteral">&quot;{{ isArray(guests) }}&quot;</span>, data); <span class="comment">// &quot;true&quot;</span></div>
<div class="line"><span class="comment">// Implemented type checks: isArray, isBoolean, isFloat, isInteger, isNumber, isObject, isString,</span></div>
</div><!-- fragment --><h3>Callbacks</h3>
<p>You can create your own and more complex functions with callbacks. These are implemented with <code>std::function</code>, so you can for example use C++ lambdas. Inja <code>Arguments</code> are a vector of json pointers. </p><div class="fragment"><div class="line">Environment env;</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Callbacks are defined by its:</span></div>
<div class="line"><span class="comment"> * - name,</span></div>
<div class="line"><span class="comment"> * - (optional) number of arguments,</span></div>
<div class="line"><span class="comment"> * - callback function.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line">env.add_callback(<span class="stringliteral">&quot;double&quot;</span>, 1, [](Arguments&amp; args) {</div>
<div class="line">    <span class="keywordtype">int</span> number = args.at(0)-&gt;get&lt;int&gt;(); <span class="comment">// Adapt the index and type of the argument</span></div>
<div class="line">    <span class="keywordflow">return</span> 2 * number;</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line"><span class="comment">// You can then use a callback like a regular function</span></div>
<div class="line">env.render(<span class="stringliteral">&quot;{{ double(16) }}&quot;</span>, data); <span class="comment">// &quot;32&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Inja falls back to variadic callbacks if the number of expected arguments is omitted.</span></div>
<div class="line">env.add_callback(<span class="stringliteral">&quot;argmax&quot;</span>, [](Arguments&amp; args) {</div>
<div class="line">  <span class="keyword">auto</span> result = std::max_element(args.begin(), args.end(), [](<span class="keyword">const</span> json* a, <span class="keyword">const</span> json* b) { return *a &lt; *b;});</div>
<div class="line">  <span class="keywordflow">return</span> std::distance(args.begin(), result);</div>
<div class="line">});</div>
<div class="line">env.render(<span class="stringliteral">&quot;{{ argmax(4, 2, 6) }}&quot;</span>, data); <span class="comment">// &quot;2&quot;</span></div>
<div class="line">env.render(<span class="stringliteral">&quot;{{ argmax(0, 2, 6, 8, 3) }}&quot;</span>, data); <span class="comment">// &quot;3&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// A callback without argument can be used like a dynamic variable:</span></div>
<div class="line">std::string greet = <span class="stringliteral">&quot;Hello&quot;</span>;</div>
<div class="line">env.add_callback(<span class="stringliteral">&quot;double-greetings&quot;</span>, 0, [greet](Arguments args) {</div>
<div class="line">    <span class="keywordflow">return</span> greet + <span class="stringliteral">&quot; &quot;</span> + greet + <span class="stringliteral">&quot;!&quot;</span>;</div>
<div class="line">});</div>
<div class="line">env.render(<span class="stringliteral">&quot;{{ double-greetings }}&quot;</span>, data); <span class="comment">// &quot;Hello Hello!&quot;</span></div>
</div><!-- fragment --><p>You can also add a void callback without return variable, e.g. for debugging: </p><div class="fragment"><div class="line">env.add_void_callback(<span class="stringliteral">&quot;log&quot;</span>, 1, [greet](Arguments args) {</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;logging: &quot;</span> &lt;&lt; args[0] &lt;&lt; std::endl;</div>
<div class="line">});</div>
<div class="line">env.render(<span class="stringliteral">&quot;{{ log(neighbour) }}&quot;</span>, data); <span class="comment">// Prints nothing to result, only to cout...</span></div>
</div><!-- fragment --><h3>Template Inheritance</h3>
<p>Template inheritance allows you to build a base <em>skeleton</em> template that contains all the common elements and defines blocks that child templates can override. Lets show an example: The base template </p><div class="fragment"><div class="line">&lt;!DOCTYPE html&gt;</div>
<div class="line">&lt;html&gt;</div>
<div class="line">&lt;head&gt;</div>
<div class="line">  {% block head %}</div>
<div class="line">  &lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot; /&gt;</div>
<div class="line">  &lt;title&gt;{% block title %}{% endblock %} - My Webpage&lt;/title&gt;</div>
<div class="line">  {% endblock %}</div>
<div class="line">&lt;/head&gt;</div>
<div class="line">&lt;body&gt;</div>
<div class="line">  &lt;div id=&quot;content&quot;&gt;{% block content %}{% endblock %}&lt;/div&gt;</div>
<div class="line">&lt;/body&gt;</div>
<div class="line">&lt;/html&gt;</div>
</div><!-- fragment --><p>contains three <code>blocks</code> that child templates can fill in. The child template </p><div class="fragment"><div class="line">{% extends &quot;base.html&quot; %}</div>
<div class="line">{% block title %}Index{% endblock %}</div>
<div class="line">{% block head %}</div>
<div class="line">  {{ super() }}</div>
<div class="line">  &lt;style type=&quot;text/css&quot;&gt;</div>
<div class="line">    .important { color: #336699; }</div>
<div class="line">  &lt;/style&gt;</div>
<div class="line">{% endblock %}</div>
<div class="line">{% block content %}</div>
<div class="line">  &lt;h1&gt;Index&lt;/h1&gt;</div>
<div class="line">  &lt;p class=&quot;important&quot;&gt;</div>
<div class="line">    Welcome to my blog!</div>
<div class="line">  &lt;/p&gt;</div>
<div class="line">{% endblock %}</div>
</div><!-- fragment --><p>calls a parent template with the <code>extends</code> keyword; it should be the first element in the template. It is possible to render the contents of the parent block by calling <code>super()</code>. In the case of multiple levels of <code>{% extends %}</code>, super references may be called with an argument (e.g. <code>super(2)</code>) to skip levels in the inheritance tree.</p>
<h3>Whitespace Control</h3>
<p>In the default configuration, no whitespace is removed while rendering the file. To support a more readable template style, you can configure the environment to control whitespaces before and after a statement automatically. While enabling <code>set_trim_blocks</code> removes the first newline after a statement, <code>set_lstrip_blocks</code> strips tabs and spaces from the beginning of a line to the start of a block.</p>
<div class="fragment"><div class="line">Environment env;</div>
<div class="line">env.set_trim_blocks(<span class="keyword">true</span>);</div>
<div class="line">env.set_lstrip_blocks(<span class="keyword">true</span>);</div>
</div><!-- fragment --><p>With both <code>trim_blocks</code> and <code>lstrip_blocks</code> enabled, you can put statements on their own lines. Furthermore, you can also strip whitespaces for both statements and expressions by hand. If you add a minus sign (<code>-</code>) to the start or end, the whitespaces before or after that block will be removed:</p>
<div class="fragment"><div class="line">render(<span class="stringliteral">&quot;Hello       {{- name -}}     !&quot;</span>, data); <span class="comment">// &quot;Hello Inja!&quot;</span></div>
<div class="line">render(<span class="stringliteral">&quot;{% if neighbour in guests -%}   I was there{% endif -%}   !&quot;</span>, data); <span class="comment">// Renders without any whitespaces</span></div>
</div><!-- fragment --><p>Stripping behind a statement or expression also removes any newlines.</p>
<h3>Comments</h3>
<p>Comments can be written with the <code>{# ... #}</code> syntax. </p><div class="fragment"><div class="line">render(<span class="stringliteral">&quot;Hello{# Todo #}!&quot;</span>, data); <span class="comment">// &quot;Hello!&quot;</span></div>
</div><!-- fragment --><h3>Exceptions</h3>
<p>Inja uses exceptions to handle ill-formed template input. However, exceptions can be switched off with either using the compiler flag <code>-fno-exceptions</code> or by defining the symbol <code>INJA_NOEXCEPTION</code>. In this case, exceptions are replaced by <code>abort()</code> calls.</p>
<h2>Supported compilers</h2>
<p>Inja uses <code>string_view</code> from C++17, but includes the <a href="https://github.com/martinmoene/string-view-lite">polyfill</a> from martinmoene. This way, the minimum version is C++11. Currently, the following compilers are tested:</p>
<ul>
<li>GCC 7 - 11 (and possibly later)</li>
<li>Clang 4 - 12 (and possibly later)</li>
<li>Microsoft Visual C++ 2017 15.0 - 2022 (and possibly later)</li>
</ul>
<p>A list of supported compiler / os versions can be found in the <a href="https://github.com/pantor/inja/blob/master/.github/workflows/ci.yml">CI definition</a>. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<div class="ttc" id="astructinja_1_1_template_html"><div class="ttname"><a href="structinja_1_1_template.html">inja::Template</a></div><div class="ttdoc">The main inja Template.</div><div class="ttdef"><b>Definition:</b> template.hpp:18</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
